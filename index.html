<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Images from Azure Blob Storage</title>
</head>
<body>
    <h1>Images from Azure Blob Storage</h1>

    <div id="imageContainer"></div>

    <script src="https://azuresdkdocs.blob.core.windows.net/$web/index.js"></script>
    <script>
        const accountName = 'sranephoto';
        const containerName = 'lehladak';
        const sasToken = 'sp=r&st=2023-12-15T12:57:34Z&se=2023-12-15T20:57:34Z&spr=https&sv=2022-11-02&sr=c&sig=7n6B%2BgCbYRZet1SXHB50HUdBx0S%2FSWbrEI2kkuIqJaE%3D';

        const containerClient = new Azure.Storage.Blob.ContainerClient(`https://${accountName}.blob.core.windows.net/${containerName}${sasToken}`);

        // Get a list of blobs in the container
        containerClient.listBlobsFlat().byPage().next().then((response) => {
            const blobs = response.value;

            // Display each blob one by one
            blobs.forEach((blob) => {
                // Create a URL for the Blob
                const blobUrl = containerClient.getBlobClient(blob.name).url;

                // Display the Blob image in an <img> tag
                const img = document.createElement('img');
                img.src = blobUrl;
                document.getElementById('imageContainer').appendChild(img);
            });
        }).catch((error) => {
            console.error('Error fetching blobs:', error);
        });
    </script>
</body>
</html>
